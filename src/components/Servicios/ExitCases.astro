---
import { proyectsResume, type IProyectResume } from "@src/data/ProyectsHome.ts";
import ProyecResume from "../Home/ProyecResume.astro";

// Mucho cuidado con los 500 px, es un valor hardcodeado para funcionar correctamente, esto debe ser modificado en un futuro
---

<section>
  <div class="mx-auto max-w-7xl px-7 py-20 md:px-7">
    <hgroup>
      <h2
        class="mb-6 text-center text-[40px] font-bold leading-none text-secondary-400 md:mb-4 md:leading-normal"
      >
        Casos de Éxito que Respaldan Nuestro Compromiso
      </h2>
      <p
        class="mx-auto mb-12 max-w-3xl text-pretty text-center text-xl text-black-500"
      >
        Descubre cómo nuestras soluciones de hardware a medida han transformado
        diversas industrias y llevado la eficiencia a un nuevo nivel
      </p>
    </hgroup>
    <div
      id="sliderService"
      class="flex flex-col-reverse items-start justify-center gap-2 lg:flex-row-reverse lg:gap-0"
    >
      <input
        class="hidden"
        name="sliderService"
        id="sliderService1"
        type="radio"
        checked
      />
      <input
        class="hidden"
        name="sliderService"
        id="sliderService2"
        type="radio"
      />
      <input
        class="hidden"
        name="sliderService"
        id="sliderService3"
        type="radio"
      />
      <input
        class="hidden"
        name="sliderService"
        id="sliderService4"
        type="radio"
      />
      <input
        class="hidden"
        name="sliderService"
        id="sliderService5"
        type="radio"
      />

      <div
        id="projectsServiceContainer"
        class="mx-auto overflow-y-hidden rounded-lg shadow-[0px_0px_24px_10px_#18181B30] lg:ml-0 lg:rounded-l-none lg:shadow-[16px_16px_24px_10px_#18181B30]"
      >
        <ul
          class="relative transition-all duration-300 ease-in-out lg:h-[500px]"
        >
          {
            proyectsResume.map((proyectResume: IProyectResume) => (
              <ProyecResume proyectResume={proyectResume} />
            ))
          }
        </ul>
      </div>
      <ul
        id="buttonsSliderService"
        class="mx-auto mb-4 flex flex-row flex-wrap items-center justify-center gap-0 overflow-x-hidden sm:gap-2 md:gap-4 lg:mb-0 lg:mr-0 lg:h-[500px] lg:translate-x-[1px] lg:flex-col lg:items-end lg:justify-normal lg:gap-0"
      >
        <!-- El h-[500px] es para evitar que desaparezca la sombra del span interior de las opciones -->
        <!-- El span en el interior de las opciones es para que la sombra de las opciones no se superponga al article -->
        <label
          for="sliderService1"
          class="project-options relative z-30 grid h-12 place-content-center rounded-l rounded-r px-6 py-3 text-xl text-black-500 hover:text-secondary-500 active:border-b active:border-l active:border-r active:border-t active:border-secondary-100 lg:h-[72px] lg:w-52 lg:rounded-r-none lg:px-0 lg:py-0"
        >
          Energía
          <span
            class="invisible absolute inset-0 -z-50 shadow-[0px_0px_12px_0px_#18181B50] lg:shadow-[16px_16px_24px_0px_#18181B30]"
          >
          </span>
        </label>
        <label
          for="sliderService2"
          class="project-options relative z-30 grid h-12 place-content-center rounded-l rounded-r px-6 py-3 text-xl text-black-500 hover:text-secondary-500 active:border-b active:border-l active:border-r active:border-t active:border-secondary-100 lg:h-[72px] lg:w-52 lg:rounded-r-none lg:px-0 lg:py-0"
        >
          Emergencia
          <span
            class="invisible absolute inset-0 -z-50 shadow-[0px_0px_12px_0px_#18181B50] lg:shadow-[16px_16px_24px_0px_#18181B30]"
          >
          </span>
        </label>
        <label
          for="sliderService3"
          class="project-options relative grid h-12 place-content-center rounded-l rounded-r px-6 py-3 text-xl text-black-500 hover:text-secondary-500 active:border-b active:border-l active:border-r active:border-t active:border-secondary-100 lg:h-[72px] lg:w-52 lg:rounded-r-none lg:px-0 lg:py-0"
        >
          Industrial
          <span
            class="invisible absolute inset-0 -z-50 shadow-[0px_0px_12px_0px_#18181B50] lg:shadow-[16px_16px_24px_0px_#18181B30]"
          >
          </span>
        </label>
        <label
          for="sliderService4"
          class="project-options relative grid h-12 place-content-center rounded-l rounded-r px-6 py-3 text-xl text-black-500 hover:text-secondary-500 active:border-b active:border-l active:border-r active:border-t active:border-secondary-100 lg:h-[72px] lg:w-52 lg:rounded-r-none lg:px-0 lg:py-0"
        >
          Agropecuario
          <span
            class="invisible absolute inset-0 -z-50 shadow-[0px_0px_12px_0px_#18181B50] lg:shadow-[16px_16px_24px_0px_#18181B30]"
          >
          </span>
        </label>
        <label
          for="sliderService5"
          class="project-options relative grid h-12 place-content-center rounded-l rounded-r px-6 py-3 text-xl text-black-500 hover:text-secondary-500 active:border-b active:border-l active:border-t active:border-secondary-100 lg:h-[72px] lg:w-52 lg:rounded-r-none lg:px-0 lg:py-0"
        >
          Minería
          <span
            class="invisible absolute inset-0 -z-50 shadow-[0px_0px_12px_0px_#18181B50] lg:shadow-[16px_16px_24px_0px_#18181B30]"
          >
          </span>
        </label>
      </ul>
    </div>
    <div class="mx-auto flex flex-col items-center">
      <span
        class="z-10 my-8 text-pretty text-center text-xl text-primary-400 drop-shadow-xl lg:mt-16"
      >
        Permítenos ayudar a tu negocio a avanzar con soluciones diseñadas para
        maximizar rendimiento y eficiencia</span
      >
      <a
        href="https://wa.link/fc3qb5"
        class="mx-auto rounded bg-primary-500 px-8 py-4 text-center text-sm font-light leading-base text-white-200 ring-1 ring-inset ring-primary-500 transition-all duration-200 hover:bg-primary-400 sm:px-8 lg:text-lg xl:px-12 xl:text-xl"
        >¡Solicita una consultoría Gratuita!</a
      >
    </div>
  </div>
</section>

<style is:global>
  #sliderService
    input:nth-child(1):checked
    ~ #projectsServiceContainer
    > ul
    article:nth-child(1) {
    position: relative;
  }
  #sliderService
    input:nth-child(2):checked
    ~ #projectsServiceContainer
    > ul
    article:nth-child(2) {
    /* top: -500px; */
    position: relative;
  }

  #sliderService
    input:nth-child(3):checked
    ~ #projectsServiceContainer
    > ul
    article:nth-child(3) {
    /* top: -1000px; */
    position: relative;
  }

  #sliderService
    input:nth-child(4):checked
    ~ #projectsServiceContainer
    > ul
    article:nth-child(4) {
    /* top: -1500px; */
    position: relative;
  }

  #sliderService
    input:nth-child(5):checked
    ~ #projectsServiceContainer
    > ul
    article:nth-child(5) {
    /* top: -2000px; */
    position: relative;
  }

  #sliderService
    input:nth-child(1):checked
    ~ #buttonsSliderService
    label:nth-child(1),
  #sliderService
    input:nth-child(2):checked
    ~ #buttonsSliderService
    label:nth-child(2),
  #sliderService
    input:nth-child(3):checked
    ~ #buttonsSliderService
    label:nth-child(3),
  #sliderService
    input:nth-child(4):checked
    ~ #buttonsSliderService
    label:nth-child(4),
  #sliderService
    input:nth-child(5):checked
    ~ #buttonsSliderService
    label:nth-child(5) {
    border-bottom-width: 1px;
    border-left-width: 1px;
    border-top-width: 1px;
    border-right-width: 1px;
    border-color: #b9d5da;
    background-color: #f3f4f6;
    color: #1d7988;
  }

  #sliderService
    input:nth-child(1):checked
    ~ #buttonsSliderService
    label:nth-child(1)
    > span,
  #sliderService
    input:nth-child(2):checked
    ~ #buttonsSliderService
    label:nth-child(2)
    > span,
  #sliderService
    input:nth-child(3):checked
    ~ #buttonsSliderService
    label:nth-child(3)
    > span,
  #sliderService
    input:nth-child(4):checked
    ~ #buttonsSliderService
    label:nth-child(4)
    > span,
  #sliderService
    input:nth-child(5):checked
    ~ #buttonsSliderService
    label:nth-child(5)
    > span {
    visibility: visible;
  }

  @media (min-width: 1024px) {
    #sliderService
      input:nth-child(1):checked
      ~ #buttonsSliderService
      label:nth-child(1),
    #sliderService
      input:nth-child(2):checked
      ~ #buttonsSliderService
      label:nth-child(2),
    #sliderService
      input:nth-child(3):checked
      ~ #buttonsSliderService
      label:nth-child(3),
    #sliderService
      input:nth-child(4):checked
      ~ #buttonsSliderService
      label:nth-child(4),
    #sliderService
      input:nth-child(5):checked
      ~ #buttonsSliderService
      label:nth-child(5) {
      border-right-width: 0px; /* Esto se aplicará a partir de 1024px */
    }
  }
</style>

<!-- <script>
  const projectOptions = document.querySelectorAll(".project-options");
  const projectOptionsShadow = document.querySelectorAll(
    ".project-options span",
  );

  projectOptions.forEach((option) => {
    option.addEventListener("click", () => {
      projectOptionsShadow.forEach((shadow) => {
        shadow.classList.add("invisible");
      });
      projectOptions.forEach((opt) => {
        opt.classList.remove(
          "border-b",
          "border-l",
          "border-t",
          "border-secondary-100",
          "bg-white-500",
          "text-secondary-500",
        );
      });
      option.classList.add(
        "border-b",
        "border-l",
        "border-t",
        "border-secondary-100",
        "bg-white-500",
        "text-secondary-500",
      );
      (option.firstElementChild as HTMLElement).classList.remove("invisible");
    });
  });
</script> -->
